# üöÄ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase SQL Editor:
```sql
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor:

-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–∏–¥–µ–æ–≤—Å—Ç—Ä–µ—á –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
-- –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–¥–µ–æ –∫–æ–º–Ω–∞—Ç—ã –≤ —Å–æ–±—ã—Ç–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è

-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ video_room –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
DO $$
BEGIN
  IF NOT EXISTS (
    SELECT 1 FROM information_schema.columns
    WHERE table_schema = 'public'
    AND table_name = 'calendar_events'
    AND column_name = 'video_room'
  ) THEN
    ALTER TABLE public.calendar_events ADD COLUMN video_room TEXT;
  END IF;
END $$;

-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ has_video –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
DO $$
BEGIN
  IF NOT EXISTS (
    SELECT 1 FROM information_schema.columns
    WHERE table_schema = 'public'
    AND table_name = 'calendar_events'
    AND column_name = 'has_video'
  ) THEN
    ALTER TABLE public.calendar_events ADD COLUMN has_video BOOLEAN DEFAULT FALSE;
  END IF;
END $$;

-- –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π —Å –≤–∏–¥–µ–æ
CREATE INDEX IF NOT EXISTS idx_calendar_events_video ON public.calendar_events(has_video) WHERE has_video = true;

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
COMMENT ON COLUMN public.calendar_events.video_room IS '–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è —Å–æ–±—ã—Ç–∏—è';
COMMENT ON COLUMN public.calendar_events.has_video IS '–§–ª–∞–≥ —É–∫–∞–∑—ã–≤–∞—é—â–∏–π —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –≤–∫–ª—é—á–∞–µ—Ç –≤–∏–¥–µ–æ–≤—Å—Ç—Ä–µ—á—É';
COMMENT ON INDEX idx_calendar_events_video IS '–ò–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π —Å –≤–∏–¥–µ–æ–≤—Å—Ç—Ä–µ—á–∞–º–∏';
```

### 2. –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å –≤–∏–¥–µ–æ:**
   - –í –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –Ω–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ"
   - –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "–í–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è"
   - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–±—ã—Ç–∏–µ

2. **–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –≤–∏–¥–µ–æ –∑–≤–æ–Ω–∫—É:**
   - –í –∫–∞–ª–µ–Ω–¥–∞—Ä–µ —É–≤–∏–¥–∏—Ç–µ —Å–æ–±—ã—Ç–∏–µ —Å –∑–µ–ª—ë–Ω—ã–º –∑–Ω–∞—á–∫–æ–º –≤–∏–¥–µ–æ üìπ
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–í–∏–¥–µ–æ" –∏–ª–∏ –∑–µ–ª—ë–Ω—ã–π –∑–Ω–∞—á–æ–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ üìû
   - –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è Jitsi

3. **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
   - ‚úÖ –í–∏–¥–µ–æ –∫–æ–º–Ω–∞—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Jitsi –∫–ª–∏–µ–Ω—Ç (–Ω–µ –≤–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞)
   - ‚úÖ –û–¥–∏–Ω –∫–ª–∏–∫ –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

### 3. –ß—Ç–æ –æ–±–Ω–æ–≤–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ:

- **Calendar.tsx**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å JitsiVideoCall
- **JitsiVideoCall.tsx**: –û–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å iframe –≤–º–µ—Å—Ç–æ —Å–ª–æ–∂–Ω–æ–≥–æ API
- **–ú–∏–≥—Ä–∞—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `has_video` –∏ `video_room` –≤ —Ç–∞–±–ª–∏—Ü—É `calendar_events`

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏:
1. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–±—ã—Ç–∏–µ —Å –≤–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–µ–π
3. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∞–º–∏ –ø—Ä—è–º–æ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ! üéâ
